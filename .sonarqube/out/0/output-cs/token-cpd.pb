
,/home/alice/Backend/Csharp/Csharp/Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
c  
=>! #
{ 
c 
. 

SwaggerDoc 
( 
$str 
, 
new 
OpenApiInfo &
{' (
Title) .
=/ 0
$str1 E
,E F
VersionG N
=O P
$strQ U
}V W
)W X
;X Y
} 
) 
; 
var 
connectionString 
= 
builder 
. 
Configuration ,
., -
GetConnectionString- @
(@ A
$strA I
)I J
;J K
builder 
. 
Services 
. 
AddDbContext 
< 
AppDbContext *
>* +
(+ ,
options, 3
=>4 6
options 
. 
	UseOracle 
( 
connectionString &
)& '
)' (
;( )
builder 
. 
Services 
. 
	AddScoped 
< 
IFilialService )
,) *
FilialService+ 8
>8 9
(9 :
): ;
;; <
builder 
. 
Services 
. 
	AddScoped 
< 
ILocalizacaoService .
,. /
LocalizacaoService0 B
>B C
(C D
)D E
;E F
builder 
. 
Services 
. 
	AddScoped 
< 
IMotoService '
,' (
MotoService) 4
>4 5
(5 6
)6 7
;7 8
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
||$ &
app' *
.* +
Environment+ 6
.6 7
IsProduction7 C
(C D
)D E
)E F
{   
app!! 
.!! 

UseSwagger!! 
(!! 
)!! 
;!! 
app"" 
."" 
UseSwaggerUI"" 
("" 
c"" 
=>"" 
{## 
c$$ 	
.$$	 

SwaggerEndpoint$$
 
($$ 
$str$$ 4
,$$4 5
$str$$6 M
)$$M N
;$$N O
}%% 
)%% 
;%% 
}&& 
app)) 
.)) 
UseAuthorization)) 
()) 
))) 
;)) 
app** 
.** 
MapControllers** 
(** 
)** 
;** 
await++ 
app++ 	
.++	 

RunAsync++
 
(++ 
)++ 
;++ …#
M/home/alice/Backend/Csharp/Csharp/Presentation/Controllers/MotosController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 
MotosController		  
:		! "
ControllerBase		# 1
{

 
private 
readonly 
MotoService $
_motoService% 1
;1 2
public 
MotosController 
( 
MotoService *
motoService+ 6
)6 7
{ 	
_motoService 
= 
motoService &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
_motoService +
.+ ,
GetAllAsync, 7
(7 8
)8 9
;9 :
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetById) 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
result 
= 
await 
_motoService +
.+ ,
GetByIdAsync, 8
(8 9
id9 ;
); <
;< =
return 
result 
== 
null !
?" #
NotFound$ ,
(, -
)- .
:/ 0
Ok1 3
(3 4
result4 :
): ;
;; <
} 	
[   	
HttpPost  	 
]   
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
Create!!) /
(!!/ 0
[!!0 1
FromBody!!1 9
]!!9 :
CreateMotoDto!!; H
dto!!I L
)!!L M
{"" 	
var## 
created## 
=## 
await## 
_motoService##  ,
.##, -
CreateAsync##- 8
(##8 9
dto##9 <
)##< =
;##= >
return$$ 
CreatedAtAction$$ "
($$" #
nameof$$# )
($$) *
GetById$$* 1
)$$1 2
,$$2 3
new$$4 7
{$$8 9
id$$: <
=$$= >
created$$? F
.$$F G
Id$$G I
}$$J K
,$$K L
created$$M T
)$$T U
;$$U V
}%% 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Update(() /
(((/ 0
int((0 3
id((4 6
,((6 7
[((8 9
FromBody((9 A
]((A B
UpdateMotoDto((C P
dto((Q T
)((T U
{)) 	
var** 
updated** 
=** 
await** 
_motoService**  ,
.**, -
UpdateAsync**- 8
(**8 9
id**9 ;
,**; <
dto**= @
)**@ A
;**A B
return++ 
updated++ 
==++ 
null++ "
?++# $
NotFound++% -
(++- .
)++. /
:++0 1
Ok++2 4
(++4 5
updated++5 <
)++< =
;++= >
},, 	
[.. 	

HttpDelete..	 
(.. 
$str.. 
).. 
].. 
public// 
async// 
Task// 
<// 
IActionResult// '
>//' (
Delete//) /
(/// 0
int//0 3
id//4 6
)//6 7
{00 	
await11 
_motoService11 
.11 
DeleteAsync11 *
(11* +
id11+ -
)11- .
;11. /
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
}44 
}55 ÿ#
T/home/alice/Backend/Csharp/Csharp/Presentation/Controllers/LocalizacoesController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 "
LocalizacoesController		 '
:		( )
ControllerBase		* 8
{

 
private 
readonly 
LocalizacaoService +
_localizacaoService, ?
;? @
public "
LocalizacoesController %
(% &
LocalizacaoService& 8
localizacaoService9 K
)K L
{ 	
_localizacaoService 
=  !
localizacaoService" 4
;4 5
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
_localizacaoService 2
.2 3
GetAllAsync3 >
(> ?
)? @
;@ A
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetById) 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
result 
= 
await 
_localizacaoService 2
.2 3
GetByIdAsync3 ?
(? @
id@ B
)B C
;C D
return 
result 
== 
null !
?" #
NotFound$ ,
(, -
)- .
:/ 0
Ok1 3
(3 4
result4 :
): ;
;; <
} 	
[   	
HttpPost  	 
]   
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
Create!!) /
(!!/ 0
[!!0 1
FromBody!!1 9
]!!9 :%
CreateLocalizacaoPatioDto!!; T
dto!!U X
)!!X Y
{"" 	
var## 
created## 
=## 
await## 
_localizacaoService##  3
.##3 4
CreateAsync##4 ?
(##? @
dto##@ C
)##C D
;##D E
return$$ 
CreatedAtAction$$ "
($$" #
nameof$$# )
($$) *
GetById$$* 1
)$$1 2
,$$2 3
new$$4 7
{$$8 9
id$$: <
=$$= >
created$$? F
.$$F G
Id$$G I
}$$J K
,$$K L
created$$M T
)$$T U
;$$U V
}%% 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Update(() /
(((/ 0
int((0 3
id((4 6
,((6 7
[((8 9
FromBody((9 A
]((A B%
UpdateLocalizacaoPatioDto((C \
dto((] `
)((` a
{)) 	
var** 
updated** 
=** 
await** 
_localizacaoService**  3
.**3 4
UpdateAsync**4 ?
(**? @
id**@ B
,**B C
dto**D G
)**G H
;**H I
return++ 
updated++ 
==++ 
null++ "
?++# $
NotFound++% -
(++- .
)++. /
:++0 1
Ok++2 4
(++4 5
updated++5 <
)++< =
;++= >
},, 	
[.. 	

HttpDelete..	 
(.. 
$str.. 
).. 
].. 
public// 
async// 
Task// 
<// 
IActionResult// '
>//' (
Delete//) /
(/// 0
int//0 3
id//4 6
)//6 7
{00 	
await11 
_localizacaoService11 %
.11% &
DeleteAsync11& 1
(111 2
id112 4
)114 5
;115 6
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
}44 
}55 ¥#
O/home/alice/Backend/Csharp/Csharp/Presentation/Controllers/FiliaisController.cs
	namespace 	
Presentation
 
. 
Controllers "
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 
FiliaisController		 "
:		# $
ControllerBase		% 3
{

 
private 
readonly 
FilialService &
_filialService' 5
;5 6
public 
FiliaisController  
(  !
FilialService! .
filialService/ <
)< =
{ 	
_filialService 
= 
filialService *
;* +
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
result 
= 
await 
_filialService -
.- .
GetAllAsync. 9
(9 :
): ;
;; <
return 
Ok 
( 
result 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetById) 0
(0 1
int1 4
id5 7
)7 8
{ 	
var 
result 
= 
await 
_filialService -
.- .
GetByIdAsync. :
(: ;
id; =
)= >
;> ?
return 
result 
== 
null !
?" #
NotFound$ ,
(, -
)- .
:/ 0
Ok1 3
(3 4
result4 :
): ;
;; <
} 	
[   	
HttpPost  	 
]   
public!! 
async!! 
Task!! 
<!! 
IActionResult!! '
>!!' (
Create!!) /
(!!/ 0
[!!0 1
FromBody!!1 9
]!!9 :
CreateFilialDto!!; J
dto!!K N
)!!N O
{"" 	
var## 
created## 
=## 
await## 
_filialService##  .
.##. /
CreateAsync##/ :
(##: ;
dto##; >
)##> ?
;##? @
return$$ 
CreatedAtAction$$ "
($$" #
nameof$$# )
($$) *
GetById$$* 1
)$$1 2
,$$2 3
new$$4 7
{$$8 9
id$$: <
=$$= >
created$$? F
.$$F G
Id$$G I
}$$J K
,$$K L
created$$M T
)$$T U
;$$U V
}%% 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
public(( 
async(( 
Task(( 
<(( 
IActionResult(( '
>((' (
Update(() /
(((/ 0
int((0 3
id((4 6
,((6 7
[((8 9
FromBody((9 A
]((A B
UpdateFilialDto((C R
dto((S V
)((V W
{)) 	
var** 
updated** 
=** 
await** 
_filialService**  .
.**. /
UpdateAsync**/ :
(**: ;
id**; =
,**= >
dto**? B
)**B C
;**C D
return++ 
updated++ 
==++ 
null++ "
?++# $
NotFound++% -
(++- .
)++. /
:++0 1
Ok++2 4
(++4 5
updated++5 <
)++< =
;++= >
},, 	
[.. 	

HttpDelete..	 
(.. 
$str.. 
).. 
].. 
public// 
async// 
Task// 
<// 
IActionResult// '
>//' (
Delete//) /
(/// 0
int//0 3
id//4 6
)//6 7
{00 	
await11 
_filialService11  
.11  !
DeleteAsync11! ,
(11, -
id11- /
)11/ 0
;110 1
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
}44 
}55 ¤
O/home/alice/Backend/Csharp/Csharp/Infrastructure/Repositories/MotoRepository.cs
	namespace 	
challenge_dotnet
 
. 
Infrastructure )
.) *
Repositories* 6
{ 
public 

class 
MotoRepository 
:  !
IMotoRepository" 1
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public 
MotoRepository 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Moto& *
>* +
>+ ,
GetAllAsync- 8
(8 9
)9 :
{ 	
return 
await 
_context !
.! "
Motos" '
.' (
ToListAsync( 3
(3 4
)4 5
;5 6
} 	
public 
async 
Task 
< 
Moto 
? 
>  
GetByIdAsync! -
(- .
int. 1
id2 4
)4 5
{ 	
return 
await 
_context !
.! "
Motos" '
.' (
	FindAsync( 1
(1 2
id2 4
)4 5
;5 6
} 	
public 
async 
Task 
AddAsync "
(" #
Moto# '
moto( ,
), -
{ 	
_context 
. 
Motos 
. 
Add 
( 
moto #
)# $
;$ %
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
} 	
public!! 
async!! 
Task!! 
UpdateAsync!! %
(!!% &
Moto!!& *
moto!!+ /
)!!/ 0
{"" 	
_context## 
.## 
Motos## 
.## 
Update## !
(##! "
moto##" &
)##& '
;##' (
await$$ 
_context$$ 
.$$ 
SaveChangesAsync$$ +
($$+ ,
)$$, -
;$$- .
}%% 	
public'' 
async'' 
Task'' 
DeleteAsync'' %
(''% &
Moto''& *
entity''+ 1
)''1 2
{(( 	
_context)) 
.)) 
Motos)) 
.)) 
Remove)) !
())! "
entity))" (
)))( )
;))) *
await** 
_context** 
.** 
SaveChangesAsync** +
(**+ ,
)**, -
;**- .
}++ 	
public-- 
Task-- 
DeleteAsync-- 
(--  
int--  #
id--$ &
)--& '
{.. 	
throw// 
new// #
NotImplementedException// -
(//- .
)//. /
;/// 0
}00 	
}11 
}22 Ä
V/home/alice/Backend/Csharp/Csharp/Infrastructure/Repositories/LocalizacaoRepository.cs
	namespace 	
Infrastructure
 
. 
Repositories %
{ 
public 

class !
LocalizacaoRepository &
{ 
private		 
readonly		 
AppDbContext		 %
_context		& .
;		. /
public !
LocalizacaoRepository $
($ %
AppDbContext% 1
context2 9
)9 :
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
LocalizacaoPatio& 6
>6 7
>7 8
GetAllAsync9 D
(D E
)E F
=>G I
await 
_context 
. 
Localizacoes '
.' (
ToListAsync( 3
(3 4
)4 5
;5 6
public 
async 
Task 
< 
LocalizacaoPatio *
>* +
GetByIdAsync, 8
(8 9
int9 <
id= ?
)? @
{ 	
var 
entity 
= 
await 
_context '
.' (
Localizacoes( 4
.4 5
	FindAsync5 >
(> ?
id? A
)A B
;B C
if 
( 
entity 
== 
null 
) 
throw  %
new& ) 
KeyNotFoundException* >
(> ?
$str? \
)\ ]
;] ^
return 
entity 
; 
} 	
public 
async 
Task 
AddAsync "
(" #
LocalizacaoPatio# 3
entity4 :
): ;
{ 	
_context 
. 
Localizacoes !
.! "
Add" %
(% &
entity& ,
), -
;- .
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
} 	
public   
async   
Task   
UpdateAsync   %
(  % &
LocalizacaoPatio  & 6
entity  7 =
)  = >
{!! 	
_context"" 
."" 
Localizacoes"" !
.""! "
Update""" (
(""( )
entity"") /
)""/ 0
;""0 1
await## 
_context## 
.## 
SaveChangesAsync## +
(##+ ,
)##, -
;##- .
}$$ 	
public&& 
async&& 
Task&& 
DeleteAsync&& %
(&&% &
LocalizacaoPatio&&& 6
entity&&7 =
)&&= >
{'' 	
_context(( 
.(( 
Localizacoes(( !
.((! "
Remove((" (
(((( )
entity(() /
)((/ 0
;((0 1
await)) 
_context)) 
.)) 
SaveChangesAsync)) +
())+ ,
))), -
;))- .
}** 	
}++ 
},, É
Q/home/alice/Backend/Csharp/Csharp/Infrastructure/Repositories/FilialRepository.cs
	namespace 	
Infrastructure
 
. 
Repositories %
{ 
public 

class 
FilialRepository !
{ 
private		 
readonly		 
AppDbContext		 %
_context		& .
;		. /
public 
FilialRepository 
(  
AppDbContext  ,
context- 4
)4 5
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
Filial& ,
>, -
>- .
GetAllAsync/ :
(: ;
); <
=>= ?
await 
_context 
. 
Filiais "
." #
ToListAsync# .
(. /
)/ 0
;0 1
public 
async 
Task 
< 
Filial  
>  !
GetByIdAsync" .
(. /
int/ 2
id3 5
)5 6
{ 	
var 
entity 
= 
await 
_context '
.' (
Filiais( /
./ 0
	FindAsync0 9
(9 :
id: <
)< =
;= >
if 
( 
entity 
== 
null 
) 
throw 
new  
KeyNotFoundException .
(. /
$"/ 1
$str1 ?
{? @
id@ B
}B C
$strC S
"S T
)T U
;U V
return 
entity 
; 
} 	
public 
async 
Task 
AddAsync "
(" #
Filial# )
entity* 0
)0 1
{ 	
_context 
. 
Filiais 
. 
Add  
(  !
entity! '
)' (
;( )
await 
_context 
. 
SaveChangesAsync +
(+ ,
), -
;- .
}   	
public"" 
async"" 
Task"" 
UpdateAsync"" %
(""% &
Filial""& ,
entity""- 3
)""3 4
{## 	
_context$$ 
.$$ 
Filiais$$ 
.$$ 
Update$$ #
($$# $
entity$$$ *
)$$* +
;$$+ ,
await%% 
_context%% 
.%% 
SaveChangesAsync%% +
(%%+ ,
)%%, -
;%%- .
}&& 	
public(( 
async(( 
Task(( 
DeleteAsync(( %
(((% &
Filial((& ,
entity((- 3
)((3 4
{)) 	
_context** 
.** 
Filiais** 
.** 
Remove** #
(**# $
entity**$ *
)*** +
;**+ ,
await++ 
_context++ 
.++ 
SaveChangesAsync++ +
(+++ ,
)++, -
;++- .
},, 	
}-- 
}.. —
S/home/alice/Backend/Csharp/Csharp/Infrastructure/Persistence/AppDbContextFactory.cs
	namespace 	
Infrastructure
 
. 
Persistence $
{ 
public 

class 
AppDbContextFactory $
:% &'
IDesignTimeDbContextFactory' B
<B C
AppDbContextC O
>O P
{ 
public		 
AppDbContext		 
CreateDbContext		 +
(		+ ,
string		, 2
[		2 3
]		3 4
args		5 9
)		9 :
{

 	
var 
optionsBuilder 
=  
new! $#
DbContextOptionsBuilder% <
<< =
AppDbContext= I
>I J
(J K
)K L
;L M
var 
connectionString  
=! "
Environment# .
.. /"
GetEnvironmentVariable/ E
(E F
$strF Z
)Z [
;[ \
if 
( 
string 
. 
IsNullOrWhiteSpace )
() *
connectionString* :
): ;
); <
{ 
throw 
new %
InvalidOperationException 3
(3 4
$str4 i
)i j
;j k
} 
optionsBuilder 
. 
	UseOracle $
($ %
connectionString% 5
)5 6
;6 7
return 
new 
AppDbContext #
(# $
optionsBuilder$ 2
.2 3
Options3 :
): ;
;; <
} 	
} 
} ‡
L/home/alice/Backend/Csharp/Csharp/Infrastructure/Persistence/AppDbContext.cs
	namespace 	
Infrastructure
 
. 
Persistence $
{ 
public 

class 
AppDbContext 
: 
	DbContext  )
{ 
public		 
AppDbContext		 
(		 
DbContextOptions		 ,
<		, -
AppDbContext		- 9
>		9 :
options		; B
)		B C
:		D E
base		F J
(		J K
options		K R
)		R S
{		T U
}		V W
public 
DbSet 
< 
Moto 
> 
Motos  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Filial 
> 
Filiais $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
LocalizacaoPatio %
>% &
Localizacoes' 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Moto  $
>$ %
(% &
)& '
.' (
ToTable( /
(/ 0
$str0 7
)7 8
;8 9
modelBuilder 
. 
Entity 
<  
Filial  &
>& '
(' (
)( )
.) *
ToTable* 1
(1 2
$str2 ;
); <
;< =
modelBuilder 
. 
Entity 
<  
LocalizacaoPatio  0
>0 1
(1 2
)2 3
.3 4
ToTable4 ;
(; <
$str< P
)P Q
;Q R
} 	
} 
} ¯
H/home/alice/Backend/Csharp/Csharp/Domain/Repositories/IMotoRepository.cs
	namespace 	
challenge_dotnet
 
. 
Domain !
.! "
Repositories" .
{ 
public 

	interface 
IMotoRepository $
{ 
Task 
< 
IEnumerable 
< 
Moto 
> 
> 
GetAllAsync  +
(+ ,
), -
;- .
Task 
< 
Moto 
? 
> 
GetByIdAsync  
(  !
int! $
id% '
)' (
;( )
Task		 
AddAsync		 
(		 
Moto		 
moto		 
)		  
;		  !
Task

 
UpdateAsync

 
(

 
Moto

 
moto

 "
)

" #
;

# $
Task 
DeleteAsync 
( 
int 
id 
)  
;  !
} 
} Â
0/home/alice/Backend/Csharp/Csharp/Domain/Moto.cs
	namespace 	
challenge_dotnet
 
. 
Domain !
.! "
MotoRepository" 0
;0 1
public 
class 
Moto 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Placa 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 

string 
Modelo 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public 

string 
Status 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public		 

Guid		 
FilialId		 
{		 
get		 
;		 
set		  #
;		# $
}		% &
public

 

Guid

 
LocalizacaoAtualId

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 

Filial 
Filial 
{ 
get 
; 
set  #
;# $
}% &
=' (
new) ,
Filial- 3
(3 4
)4 5
;5 6
public 

LocalizacaoPatio 
LocalizacaoAtual ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
=; <
new= @
LocalizacaoPatioA Q
(Q R
)R S
;S T
} ¥

</home/alice/Backend/Csharp/Csharp/Domain/LocalizacaoPatio.cs
	namespace 	
challenge_dotnet
 
. 
Domain !
{ 
public 

class 
LocalizacaoPatio !
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
int 
PosicaoX 
{ 
get !
;! "
set# &
;& '
}( )
public		 
int		 
PosicaoY		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
	Descricao

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
string

0 6
.

6 7
Empty

7 <
;

< =
public 
ICollection 
< 
Moto 
>  
Motos! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
new7 :
List; ?
<? @
Moto@ D
>D E
(E F
)F G
;G H
} 
} ê

2/home/alice/Backend/Csharp/Csharp/Domain/Filial.cs
	namespace 	
challenge_dotnet
 
. 
Domain !
{ 
public 

class 
Filial 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public		 
string		 
Endereco		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
string		/ 5
.		5 6
Empty		6 ;
;		; <
public

 
double

 
TamanhoPatio

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 
ICollection 
< 
Moto 
>  
Motos! &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
=5 6
new7 :
List; ?
<? @
Moto@ D
>D E
(E F
)F G
;G H
} 
} õ&
D/home/alice/Backend/Csharp/Csharp/Aplication/Services/MotoService.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
Services& .
{		 
public

 

class

 
MotoService

 
:

 
IMotoService

 +
{ 
private 
readonly 
MotoRepository '
_repository( 3
;3 4
private 
readonly 
IMapper  
_mapper! (
;( )
public 
MotoService 
( 
MotoRepository )

repository* 4
,4 5
IMapper6 =
mapper> D
)D E
{ 	
_repository 
= 

repository $
;$ %
_mapper 
= 
mapper 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
MotoDto& -
>- .
>. /
GetAllAsync0 ;
(; <
)< =
{ 	
var 
motos 
= 
await 
_repository )
.) *
GetAllAsync* 5
(5 6
)6 7
;7 8
return 
_mapper 
. 
Map 
< 
IEnumerable *
<* +
MotoDto+ 2
>2 3
>3 4
(4 5
motos5 :
): ;
;; <
} 	
public 
async 
Task 
< 
MotoDto !
>! "
GetByIdAsync# /
(/ 0
int0 3
id4 6
)6 7
{ 	
var 
moto 
= 
await 
_repository (
.( )
GetByIdAsync) 5
(5 6
id6 8
)8 9
;9 :
return 
_mapper 
. 
Map 
< 
MotoDto &
>& '
(' (
moto( ,
), -
;- .
} 	
public!! 
async!! 
Task!! 
<!! 
MotoDto!! !
>!!! "
CreateAsync!!# .
(!!. /
CreateMotoDto!!/ <
dto!!= @
)!!@ A
{"" 	
var## 
entity## 
=## 
_mapper##  
.##  !
Map##! $
<##$ %
Moto##% )
>##) *
(##* +
dto##+ .
)##. /
;##/ 0
await$$ 
_repository$$ 
.$$ 
AddAsync$$ &
($$& '
entity$$' -
)$$- .
;$$. /
return%% 
_mapper%% 
.%% 
Map%% 
<%% 
MotoDto%% &
>%%& '
(%%' (
entity%%( .
)%%. /
;%%/ 0
}&& 	
public(( 
async(( 
Task(( 
<(( 
MotoDto(( !
>((! "
UpdateAsync((# .
(((. /
int((/ 2
id((3 5
,((5 6
UpdateMotoDto((7 D
dto((E H
)((H I
{)) 	
var** 
entity** 
=** 
await** 
_repository** *
.*** +
GetByIdAsync**+ 7
(**7 8
id**8 :
)**: ;
;**; <
if++ 
(++ 
entity++ 
==++ 
null++ 
)++ 
throw++  %
new++& ) 
KeyNotFoundException++* >
(++> ?
$str++? \
)++\ ]
;++] ^
_mapper-- 
.-- 
Map-- 
(-- 
dto-- 
,-- 
entity-- #
)--# $
;--$ %
await.. 
_repository.. 
... 
UpdateAsync.. )
(..) *
entity..* 0
)..0 1
;..1 2
return// 
_mapper// 
.// 
Map// 
<// 
MotoDto// &
>//& '
(//' (
entity//( .
)//. /
;/// 0
}00 	
public22 
async22 
Task22 
<22 
bool22 
>22 
DeleteAsync22  +
(22+ ,
int22, /
id220 2
)222 3
{33 	
var44 
entity44 
=44 
await44 
_repository44 *
.44* +
GetByIdAsync44+ 7
(447 8
id448 :
)44: ;
;44; <
if55 
(55 
entity55 
==55 
null55 
)55 
return55  &
false55' ,
;55, -
await77 
_repository77 
.77 
DeleteAsync77 )
(77) *
entity77* 0
)770 1
;771 2
return88 
true88 
;88 
}99 	
}:: 
};; “(
K/home/alice/Backend/Csharp/Csharp/Aplication/Services/LocalizacaoService.cs
	namespace 	
Application
 
. 
Services 
{ 
public		 

class		 
LocalizacaoService		 #
:		$ %
ILocalizacaoService		& 9
{

 
private 
readonly !
LocalizacaoRepository .
_repository/ :
;: ;
private 
readonly 
IMapper  
_mapper! (
;( )
public 
LocalizacaoService !
(! "!
LocalizacaoRepository" 7

repository8 B
,B C
IMapperD K
mapperL R
)R S
{ 	
_repository 
= 

repository $
;$ %
_mapper 
= 
mapper 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
LocalizacaoPatioDto& 9
>9 :
>: ;
GetAllAsync< G
(G H
)H I
{ 	
var 
localizacoes 
= 
await $
_repository% 0
.0 1
GetAllAsync1 <
(< =
)= >
;> ?
return 
_mapper 
. 
Map 
< 
IEnumerable *
<* +
LocalizacaoPatioDto+ >
>> ?
>? @
(@ A
localizacoesA M
)M N
;N O
} 	
public 
async 
Task 
< 
LocalizacaoPatioDto -
>- .
GetByIdAsync/ ;
(; <
int< ?
id@ B
)B C
{ 	
var 
localizacao 
= 
await #
_repository$ /
./ 0
GetByIdAsync0 <
(< =
id= ?
)? @
;@ A
return 
_mapper 
. 
Map 
< 
LocalizacaoPatioDto 2
>2 3
(3 4
localizacao4 ?
)? @
;@ A
} 	
public   
async   
Task   
<   
LocalizacaoPatioDto   -
>  - .
CreateAsync  / :
(  : ;%
CreateLocalizacaoPatioDto  ; T
dto  U X
)  X Y
{!! 	
var"" 
entity"" 
="" 
_mapper""  
.""  !
Map""! $
<""$ %
LocalizacaoPatio""% 5
>""5 6
(""6 7
dto""7 :
)"": ;
;""; <
await## 
_repository## 
.## 
AddAsync## &
(##& '
entity##' -
)##- .
;##. /
return$$ 
_mapper$$ 
.$$ 
Map$$ 
<$$ 
LocalizacaoPatioDto$$ 2
>$$2 3
($$3 4
entity$$4 :
)$$: ;
;$$; <
}%% 	
public'' 
async'' 
Task'' 
<'' 
LocalizacaoPatioDto'' -
>''- .
UpdateAsync''/ :
('': ;
int''; >
id''? A
,''A B%
UpdateLocalizacaoPatioDto''C \
dto''] `
)''` a
{(( 	
var)) 
entity)) 
=)) 
await)) 
_repository)) *
.))* +
GetByIdAsync))+ 7
())7 8
id))8 :
))): ;
;)); <
if** 
(** 
entity** 
==** 
null** 
)** 
throw**  %
new**& ) 
KeyNotFoundException*** >
(**> ?
$str**? \
)**\ ]
;**] ^
_mapper,, 
.,, 
Map,, 
(,, 
dto,, 
,,, 
entity,, #
),,# $
;,,$ %
await-- 
_repository-- 
.-- 
UpdateAsync-- )
(--) *
entity--* 0
)--0 1
;--1 2
return.. 
_mapper.. 
... 
Map.. 
<.. 
LocalizacaoPatioDto.. 2
>..2 3
(..3 4
entity..4 :
)..: ;
;..; <
}// 	
public11 
async11 
Task11 
<11 
bool11 
>11 
DeleteAsync11  +
(11+ ,
int11, /
id110 2
)112 3
{22 	
var33 
entity33 
=33 
await33 
_repository33 *
.33* +
GetByIdAsync33+ 7
(337 8
id338 :
)33: ;
;33; <
if44 
(44 
entity44 
==44 
null44 
)44 
return44  &
false44' ,
;44, -
await66 
_repository66 
.66 
DeleteAsync66 )
(66) *
entity66* 0
)660 1
;661 2
return77 
true77 
;77 
}88 	
}99 
}:: ó&
F/home/alice/Backend/Csharp/Csharp/Aplication/Services/FilialService.cs
	namespace 	
Application
 
. 
Services 
{ 
public		 

class		 
FilialService		 
:		  
IFilialService		! /
{

 
private 
readonly 
FilialRepository )
_repository* 5
;5 6
private 
readonly 
IMapper  
_mapper! (
;( )
public 
FilialService 
( 
FilialRepository -

repository. 8
,8 9
IMapper: A
mapperB H
)H I
{ 	
_repository 
= 

repository $
;$ %
_mapper 
= 
mapper 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
	FilialDto& /
>/ 0
>0 1
GetAllAsync2 =
(= >
)> ?
{ 	
var 
filiais 
= 
await 
_repository  +
.+ ,
GetAllAsync, 7
(7 8
)8 9
;9 :
return 
_mapper 
. 
Map 
< 
IEnumerable *
<* +
	FilialDto+ 4
>4 5
>5 6
(6 7
filiais7 >
)> ?
;? @
} 	
public 
async 
Task 
< 
	FilialDto #
># $
GetByIdAsync% 1
(1 2
int2 5
id6 8
)8 9
{ 	
var 
filial 
= 
await 
_repository *
.* +
GetByIdAsync+ 7
(7 8
id8 :
): ;
;; <
return 
_mapper 
. 
Map 
< 
	FilialDto (
>( )
() *
filial* 0
)0 1
;1 2
} 	
public   
async   
Task   
<   
	FilialDto   #
>  # $
CreateAsync  % 0
(  0 1
CreateFilialDto  1 @
dto  A D
)  D E
{!! 	
var"" 
entity"" 
="" 
_mapper""  
.""  !
Map""! $
<""$ %
Filial""% +
>""+ ,
("", -
dto""- 0
)""0 1
;""1 2
await## 
_repository## 
.## 
AddAsync## &
(##& '
entity##' -
)##- .
;##. /
return$$ 
_mapper$$ 
.$$ 
Map$$ 
<$$ 
	FilialDto$$ (
>$$( )
($$) *
entity$$* 0
)$$0 1
;$$1 2
}%% 	
public'' 
async'' 
Task'' 
<'' 
	FilialDto'' #
>''# $
UpdateAsync''% 0
(''0 1
int''1 4
id''5 7
,''7 8
UpdateFilialDto''9 H
dto''I L
)''L M
{(( 	
var)) 
entity)) 
=)) 
await)) 
_repository)) *
.))* +
GetByIdAsync))+ 7
())7 8
id))8 :
))): ;
;)); <
if** 
(** 
entity** 
==** 
null** 
)** 
throw**  %
new**& ) 
KeyNotFoundException*** >
(**> ?
$str**? \
)**\ ]
;**] ^
_mapper,, 
.,, 
Map,, 
(,, 
dto,, 
,,, 
entity,, #
),,# $
;,,$ %
await-- 
_repository-- 
.-- 
UpdateAsync-- )
(--) *
entity--* 0
)--0 1
;--1 2
return.. 
_mapper.. 
... 
Map.. 
<.. 
	FilialDto.. (
>..( )
(..) *
entity..* 0
)..0 1
;..1 2
}// 	
public11 
async11 
Task11 
<11 
bool11 
>11 
DeleteAsync11  +
(11+ ,
int11, /
id110 2
)112 3
{22 	
var33 
entity33 
=33 
await33 
_repository33 *
.33* +
GetByIdAsync33+ 7
(337 8
id338 :
)33: ;
;33; <
if44 
(44 
entity44 
==44 
null44 
)44 
return44  &
false44' ,
;44, -
await66 
_repository66 
.66 
DeleteAsync66 )
(66) *
entity66* 0
)660 1
;661 2
return77 
true77 
;77 
}88 	
}99 
}:: ý	
G/home/alice/Backend/Csharp/Csharp/Aplication/Interfaces/IMotoService.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &

Interfaces& 0
{ 
public 

	interface 
IMotoService !
{ 
Task 
< 
IEnumerable 
< 
MotoDto  
>  !
>! "
GetAllAsync# .
(. /
)/ 0
;0 1
Task 
< 
MotoDto 
> 
GetByIdAsync "
(" #
int# &
id' )
)) *
;* +
Task		 
<		 
MotoDto		 
>		 
CreateAsync		 !
(		! "
CreateMotoDto		" /
dto		0 3
)		3 4
;		4 5
Task

 
<

 
MotoDto

 
>

 
UpdateAsync

 !
(

! "
int

" %
id

& (
,

( )
UpdateMotoDto

* 7
dto

8 ;
)

; <
;

< =
Task 
< 
bool 
> 
DeleteAsync 
( 
int "
id# %
)% &
;& '
} 
} Ó

N/home/alice/Backend/Csharp/Csharp/Aplication/Interfaces/ILocalizacaoService.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &

Interfaces& 0
{ 
public 

	interface 
ILocalizacaoService (
{ 
Task 
< 
IEnumerable 
< 
LocalizacaoPatioDto ,
>, -
>- .
GetAllAsync/ :
(: ;
); <
;< =
Task 
< 
LocalizacaoPatioDto  
>  !
GetByIdAsync" .
(. /
int/ 2
id3 5
)5 6
;6 7
Task		 
<		 
LocalizacaoPatioDto		  
>		  !
CreateAsync		" -
(		- .%
CreateLocalizacaoPatioDto		. G
dto		H K
)		K L
;		L M
Task

 
<

 
LocalizacaoPatioDto

  
>

  !
UpdateAsync

" -
(

- .
int

. 1
id

2 4
,

4 5%
UpdateLocalizacaoPatioDto

6 O
dto

P S
)

S T
;

T U
Task 
< 
bool 
> 
DeleteAsync 
( 
int "
id# %
)% &
;& '
} 
} 

I/home/alice/Backend/Csharp/Csharp/Aplication/Interfaces/IFilialService.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &

Interfaces& 0
{ 
public 

	interface 
IFilialService #
{ 
Task 
< 
IEnumerable 
< 
	FilialDto "
>" #
># $
GetAllAsync% 0
(0 1
)1 2
;2 3
Task 
< 
	FilialDto 
> 
GetByIdAsync $
($ %
int% (
id) +
)+ ,
;, -
Task		 
<		 
	FilialDto		 
>		 
CreateAsync		 #
(		# $
CreateFilialDto		$ 3
dto		4 7
)		7 8
;		8 9
Task

 
<

 
	FilialDto

 
>

 
UpdateAsync

 #
(

# $
int

$ '
id

( *
,

* +
UpdateFilialDto

, ;
dto

< ?
)

? @
;

@ A
Task 
< 
bool 
> 
DeleteAsync 
( 
int "
id# %
)% &
;& '
} 
} Ç	
B/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/UpdateMotoDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
UpdateMotoDto 
{ 
public 

string 
Modelo 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public 

string 
Placa 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
[		 
Required		 
]		 
public

 

Guid

 
?

 
FilialId

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
[ 
Required 
] 
public 

Guid 
? 
LocalizacaoPatioId #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
N/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/UpdateLocalizacaoPatioDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class %
UpdateLocalizacaoPatioDto &
{ 
public 

int 
? 
PosicaoX 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
? 
PosicaoY 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
	Descricao 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
} ·
D/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/UpdateFilialDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
UpdateFilialDto 
{ 
public 

string 
Nome 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
Endereco 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 

double 
? 
TamanhoPatio 
{  !
get" %
;% &
set' *
;* +
}, -
} É	
</home/alice/Backend/Csharp/Csharp/Aplication/DTOs/MotoDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
MotoDto 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Modelo 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public 

string 
Placa 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 

Guid 
FilialId 
{ 
get 
; 
set  #
;# $
}% &
public		 

Guid		 
LocalizacaoPatioId		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
}

 ë
H/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/LocalizacaoPatioDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
LocalizacaoPatioDto  
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

int 
PosicaoX 
{ 
get 
; 
set "
;" #
}$ %
public 

int 
PosicaoY 
{ 
get 
; 
set "
;" #
}$ %
public 

string 
	Descricao 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
}		 °
>/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/FilialDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
	FilialDto 
{ 
public 

Guid 
Id 
{ 
get 
; 
set 
; 
}  
public 

string 
Nome 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
Endereco 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 

double 
TamanhoPatio 
{  
get! $
;$ %
set& )
;) *
}+ ,
}		 
N/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/CreateLocalizacaoPatioDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class %
CreateLocalizacaoPatioDto &
{ 
public 

int 
? 
PosicaoX 
{ 
get 
; 
set  #
;# $
}% &
public 

int 
? 
PosicaoY 
{ 
get 
; 
set  #
;# $
}% &
public 

string 
	Descricao 
{ 
get !
;! "
set# &
;& '
}( )
=* +
string, 2
.2 3
Empty3 8
;8 9
} ß
B/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/CreateMotoDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
CreateMotoDto 
{ 
public 

string 
Modelo 
{ 
get 
; 
set  #
;# $
}% &
=' (
string) /
./ 0
Empty0 5
;5 6
public 

string 
Placa 
{ 
get 
; 
set "
;" #
}$ %
=& '
string( .
.. /
Empty/ 4
;4 5
public 

Guid 
? 
FilialId 
{ 
get 
;  
set! $
;$ %
}& '
public 

Guid 
? 
LocalizacaoPatioId #
{$ %
get& )
;) *
set+ .
;. /
}0 1
}		 ·
D/home/alice/Backend/Csharp/Csharp/Aplication/DTOs/CreateFilialDto.cs
	namespace 	
challenge_dotnet
 
. 

Aplication %
.% &
DTOs& *
;* +
public 
class 
CreateFilialDto 
{ 
public 

string 
Nome 
{ 
get 
; 
set !
;! "
}# $
=% &
string' -
.- .
Empty. 3
;3 4
public 

string 
Endereco 
{ 
get  
;  !
set" %
;% &
}' (
=) *
string+ 1
.1 2
Empty2 7
;7 8
public 

double 
? 
TamanhoPatio 
{  !
get" %
;% &
set' *
;* +
}, -
} 